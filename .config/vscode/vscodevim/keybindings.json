// Place your key bindings in this file to override the defaults
[
    // Better multicursor compatibility with vsvim
    {
        "key": "ctrl+x",
        "command": "editor.action.moveSelectionToNextFindMatch",
        "when": "vim.active && editorFocus && vim.mode == 'Normal' || vim.mode == 'Visual' || vim.mode == 'VisualBlock' && !inDebugRepl"
    },
    {
        "key": "ctrl+p",
        "command": "editor.action.moveSelectionToPreviousFindMatch",
        "when": "vim.active && editorFocus && vim.mode == 'Visual' || vim.mode == 'VisualBlock' && !inDebugRepl"
    },
    {
        "key": "shift+cmd+d",
        "command": "editor.action.selectHighlights",
        "when": "vim.active && editorFocus && vim.mode == 'Normal' || vim.mode == 'Visual' || vim.mode == 'VisualBlock' && !inDebugRepl"
    },
    {
        "key": "shift+a",
        "command": "extension.multiCommand.execute",
        "args": {
            "sequence": [
                "workbench.action.focusPreviousGroup",
                "workbench.action.focusNextGroup",
                "extension.vim_escape",
                "extension.vim_insert",
            ]
        },
        "when": "vim.active && editorFocus && vim.mode == 'VisualBlock' && !inDebugRepl"
    },
    // Make magit compatible with vsvim
    {
        "key": "h",
        "command": "magit.toggle-fold",
        "when": "editorTextFocus && editorLangId == 'magit' && neovim.mode =~ /^(?!SearchInProgressMode|CommandlineInProgress).*$/"
    },
    {
        "key": "tab",
        "command": "-magit.toggle-fold",
    },
    {
        "key": "x",
        "command": "magit.discard-at-point",
        "when": "editorTextFocus && editorLangId == 'magit' && neovim.mode =~ /^(?!SearchInProgressMode|CommandlineInProgress).*$/"
    },
    {
        "key": "k",
        "command": "-magit.discard-at-point"
    },
    {
        "key": "shift+-",
        "command": "magit.reverting",
        "when": "editorTextFocus && editorLangId == 'magit' && vim.mode =~ /^(?!SearchInProgressMode|CommandlineInProgress).*$/"
    },
    {
        "key": "shift+v",
        "command": "-magit.reverting"
    },
    // Make tree toggle work
    {
      "key": "e",
      "command": "whichkey.triggerKey",
      "args": {
        "key": "e",
        "when": "sideBarVisible && explorerViewletVisible"
      },
      "when": "whichkeyVisible && sideBarVisible && explorerViewletVisible"
    }

]