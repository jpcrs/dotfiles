let mapleader=' ' 
set surround
set exchange
set NERDTree
set hlsearch 
set incsearch 
set ignorecase 
set smartcase 
set showmode
set number
set relativenumber 
set scrolloff=15 
set history=100000 
set clipboard=unnamed 
 
nnoremap <space>? :action GotoAction<CR> 
nnoremap gd :action GotoDeclaration<CR> 
nnoremap gi :action GotoImplementation<CR> 
nnoremap gr :action FindUsages<CR>

" project search 
nnoremap <space>se :action SearchEverywhere<CR> 
 
" Select Next Occurrence
inoremap <C-d> <Esc>:action SelectNextOccurrence<CR>
vnoremap <C-d> <Esc>:action SelectNextOccurrence<CR>
nnoremap <space>d :action SelectNextOccurrence<CR>
vnoremap <space>d :action SelectNextOccurrence<CR>

" Navigation
nnoremap <C-o> :action Back<CR>
nnoremap <C-i> :action Forward<CR>

" Tab navigation
nnoremap tl gt
nnoremap th gT

" Built in search
nnoremap / :action Find<CR> 
 
" But preserve ideavim search 
nnoremap <space>/ / 

" Breakpoints
nnoremap <space>bb :action ToggleLineBreakpoint<CR> 
nnoremap <space>bv :action ViewBreakpoints<CR> 

" Refactor
nnoremap <space>re :action RenameElement<CR> 

" Terminal
nnoremap <space>tl Vy<CR>:action ActivateTerminalToolWindow<CR> 

" NERDTree
nnoremap <space>ff :NERDTreeFind<CR>
nnoremap <space>fe :NERDTree<CR>

" Clear search
nnoremap <space>cs :nohlsearch<CR>
 
" Save file
nnoremap <space>fs :w<CR>
 
" Quit normal mode 
nnoremap <space>q  :q<CR>
nnoremap <space>Q  CloseAllEditors<CR>
 
" Quit insert mode 
inoremap jj <Esc>
inoremap jk <Esc>
 
" Quit visual mode 
vnoremap v <Esc>
 
" Move to the start of line 
nnoremap H ^
 
" Move to the end of line 
nnoremap L $
 
" Redo
nnoremap U <C-r>
 
" Yank to the end of line 
nnoremap Y y$
 
" Tab
nnoremap <Tab> >>
nnoremap <S-Tab> <<
vnoremap <Tab> >gv
vnoremap <S-Tab> <gv

" Window operation 
nnoremap <space>ww <C-W>w
nnoremap <space>wd <C-W>c 
nnoremap <space>wj <C-W>j 
nnoremap <space>wk <C-W>k 
nnoremap <space>wh <C-W>h 
nnoremap <space>wl <C-W>l 
nnoremap <space>ws <C-W>s 
nnoremap <space>w- <C-W>s 
nnoremap <space>wv <C-W>v 
nnoremap <space>w\| <C-W>v

" clipboard
noremap d "_d
noremap D "_D
noremap s "_s
noremap S "_S
noremap c "_c
noremap C "_C
nnoremap x "_x
nnoremap X "_x

" Jetbrains specific
nnoremap <space>cv :action ChangeView<CR> 
nnoremap <space>cd :action ChooseDebugConfiguration<CR> 
nnoremap <space>oi :action OptimizeImports<CR> 
nnoremap <space>rc :action ChooseRunConfiguration<CR> 